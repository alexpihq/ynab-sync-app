# Quick Start Guide

## –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ .env —Ñ–∞–π–ª

–£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ —Ñ–∞–π–ª `.env` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏ –∑–∞–ø–æ–ª–Ω–µ–Ω:

```bash
cat .env
```

–î–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞–ø–æ–ª–Ω–µ–Ω—ã:
- ‚úÖ `YNAB_TOKEN`
- ‚úÖ `SUPABASE_URL`
- ‚úÖ `SUPABASE_SERVICE_ROLE_KEY`

–ï—Å–ª–∏ –Ω–µ—Ç - —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ `env.template` –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ.

---

## –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ

```bash
npm run test-connection
```

–í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:
```
‚úÖ YNAB: Connected successfully!
‚úÖ Supabase: Connected successfully!
‚úÖ Found 2 loan account mappings
‚úÖ Exchange rate for 2026-01: 1.035 USD
üéâ All connections successful!
```

### –ï—Å–ª–∏ –æ—à–∏–±–∫–∏:

**‚ùå YNAB connection failed**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `YNAB_TOKEN` –≤ `.env`
- –ü–æ–ª—É—á–∏—Ç–µ –Ω–æ–≤—ã–π —Ç–æ–∫–µ–Ω: https://app.ynab.com/settings/developer

**‚ùå Supabase connection failed**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `SUPABASE_URL` –∏ `SUPABASE_SERVICE_ROLE_KEY`
- –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ **service_role** key, –∞ –Ω–µ anon key

**‚ö†Ô∏è No exchange rate found**
- –î–æ–±–∞–≤—å—Ç–µ –∫—É—Ä—Å –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ –º–µ—Å—è—Ü–∞ –≤ Supabase
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ–∞–π–ª `update_exchange_rates.sql`

---

## –®–∞–≥ 3: –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é

### –í–∞—Ä–∏–∞–Ω—Ç A: Development —Ä–µ–∂–∏–º (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –Ω–∞—á–∞–ª–∞)

```bash
npm run dev
```

–≠—Ç–æ –∑–∞–ø—É—Å—Ç–∏—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å –∞–≤—Ç–æ–ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–æ–π –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∫–æ–¥–∞.

### –í–∞—Ä–∏–∞–Ω—Ç B: Production —Ä–µ–∂–∏–º

```bash
npm start
```

### –í–∞—Ä–∏–∞–Ω—Ç C: –û–¥–Ω–æ—Ä–∞–∑–æ–≤—ã–π –∑–∞–ø—É—Å–∫ (—Ç–µ—Å—Ç)

```bash
npm run sync
```

–í—ã–ø–æ–ª–Ω–∏—Ç –æ–¥–∏–Ω —Ü–∏–∫–ª —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –∏ –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è.

---

## –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

### –í –∫–æ–Ω—Å–æ–ª–∏

–í—ã —É–≤–∏–¥–∏—Ç–µ –ª–æ–≥–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏:

```
[2026-01-03T00:00:00Z] INFO  Starting sync cycle abc-123...
[2026-01-03T00:00:01Z] INFO  Syncing Alex Personal ‚Üí Companies...
[2026-01-03T00:00:02Z] INFO  Fetched 5 transactions from Alex Personal
[2026-01-03T00:00:03Z] INFO  ‚úÖ Created mirror transaction: ...
```

### –í Supabase

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–∞–±–ª–∏—Ü—ã:

1. **transaction_mappings** - –¥–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—å—Å—è —Å–≤—è–∑–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
2. **sync_log** - –¥–µ—Ç–∞–ª—å–Ω—ã–π –ª–æ–≥ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
3. **sync_state** - –æ–±–Ω–æ–≤–ª–µ–Ω–æ –≤—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

```sql
-- –ü–æ—Å–ª–µ–¥–Ω–∏–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
SELECT 
  la.company_name,
  tm.transaction_date,
  tm.personal_amount / 1000.0 AS eur,
  tm.company_amount / 1000.0 AS usd,
  tm.exchange_rate
FROM transaction_mappings tm
JOIN loan_accounts la ON la.company_budget_id = tm.company_budget_id
ORDER BY tm.created_at DESC
LIMIT 10;

-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –±—é–¥–∂–µ—Ç–∞–º
SELECT 
  bc.budget_name,
  ss.transactions_synced,
  ss.last_sync_at,
  ss.last_sync_status
FROM sync_state ss
JOIN budgets_config bc ON bc.budget_id = ss.budget_id;
```

### –í YNAB

–û—Ç–∫—Ä–æ–π—Ç–µ –±—é–¥–∂–µ—Ç –∫–æ–º–ø–∞–Ω–∏–∏ (Innerly –∏–ª–∏ Vibecon) –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:
- –î–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—å—Å—è –Ω–æ–≤—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –Ω–∞ –∞–∫–∫–∞—É–Ω—Ç–µ "Account for Alex"
- –í memo –±—É–¥–µ—Ç —É–∫–∞–∑–∞–Ω–æ "Mirror: ..." —Å –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–π —Å—É–º–º–æ–π

---

## –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. **–ö–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç** (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:
   - –°–∫–∞–Ω–∏—Ä—É–µ—Ç –ª–∏—á–Ω—ã–π –±—é–¥–∂–µ—Ç –Ω–∞ –Ω–æ–≤—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
   - –°–∫–∞–Ω–∏—Ä—É–µ—Ç –±—é–¥–∂–µ—Ç—ã –∫–æ–º–ø–∞–Ω–∏–π –Ω–∞ –Ω–æ–≤—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏

2. **–î–ª—è –∫–∞–∂–¥–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏** –ø—Ä–æ–≤–µ—Ä—è–µ—Ç:
   - ‚úÖ –≠—Ç–æ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –Ω–∞ loan account?
   - ‚úÖ –î–∞—Ç–∞ >= 2026-01-01?
   - ‚úÖ –ù–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ –ª–∏ —É–∂–µ?
   - ‚úÖ –ù–µ —è–≤–ª—è–µ—Ç—Å—è –ª–∏ –∑–µ—Ä–∫–∞–ª—å–Ω–æ–π?

3. **–ï—Å–ª–∏ –ø–æ–¥—Ö–æ–¥–∏—Ç** - —Å–æ–∑–¥–∞–µ—Ç –∑–µ—Ä–∫–∞–ª—å–Ω—É—é —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é:
   - –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç —Å—É–º–º—É –ø–æ –∫—É—Ä—Å—É –≤–∞–ª—é—Ç
   - –ò–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç –∑–Ω–∞–∫ (–¥–æ—Ö–æ–¥ ‚Üî —Ä–∞—Å—Ö–æ–¥)
   - –°–æ–∑–¥–∞–µ—Ç –≤ —Ü–µ–ª–µ–≤–æ–º –±—é–¥–∂–µ—Ç–µ
   - –°–æ—Ö—Ä–∞–Ω—è–µ—Ç —Å–≤—è–∑—å –≤ –ë–î

---

## Troubleshooting

### "Missing exchange rate for month YYYY-MM"

–î–æ–±–∞–≤—å—Ç–µ –∫—É—Ä—Å –≤ Supabase:

```sql
INSERT INTO exchange_rates (month, eur_to_usd, source)
VALUES ('2026-01', 1.0350, 'manual')
ON CONFLICT (month) DO UPDATE SET eur_to_usd = EXCLUDED.eur_to_usd;
```

### "Transaction already synced"

–≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ - –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç —É–∂–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏.

### "Failed to create mirror transaction"

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
- –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ª–∏ –ø—Ä–∞–≤ —É YNAB —Ç–æ–∫–µ–Ω–∞
- –°—É—â–µ—Å—Ç–≤—É–µ—Ç –ª–∏ —Ü–µ–ª–µ–≤–æ–π –∞–∫–∫–∞—É–Ω—Ç
- –ü—Ä–∞–≤–∏–ª—å–Ω–æ –ª–∏ –∑–∞–ø–æ–ª–Ω–µ–Ω—ã loan_accounts –≤ –ë–î

### –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –¥—É–±–ª–∏—Ä—É—é—Ç—Å—è

–ù–µ –¥–æ–ª–∂–Ω—ã! –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `import_id` –≤ YNAB - –∫–∞–∂–¥–∞—è –∑–µ—Ä–∫–∞–ª—å–Ω–∞—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –∏–º–µ–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–π `import_id = LOAN:source:txid`.

---

## –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

–ù–∞–∂–º–∏—Ç–µ `Ctrl+C` –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ.

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∑–∞–≤–µ—Ä—à–∏—Ç —Ä–∞–±–æ—Ç—É –∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ.

---

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. ‚úÖ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
2. üìä –°–ª–µ–¥–∏—Ç–µ –∑–∞ –ª–æ–≥–∞–º–∏ –≤ `sync_log`
3. üí∞ –û–±–Ω–æ–≤–ª—è–π—Ç–µ –∫—É—Ä—Å—ã –≤–∞–ª—é—Ç –∫–∞–∂–¥—ã–π –º–µ—Å—è—Ü
4. üöÄ –ó–∞–¥–µ–ø–ª–æ–π—Ç–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä –¥–ª—è –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–π —Ä–∞–±–æ—Ç—ã

---

**–ù—É–∂–Ω–∞ –ø–æ–º–æ—â—å?** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
- `README.md` - –ø–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- `DATABASE_SCHEMA.md` - —Å—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- `SUPABASE_SETUP.md` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ Supabase





