# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

## üéØ –î–≤–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

### ‚úÖ –í–∞—Ä–∏–∞–Ω—Ç 1: –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π Cron (–ü–ª–∞—Ç–Ω—ã–π Render –ø–ª–∞–Ω)

**–ù–∞ –ø–ª–∞—Ç–Ω–æ–º —Ç–∞—Ä–∏—Ñ–µ Render** –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç 24/7 –±–µ–∑ –∑–∞—Å—ã–ø–∞–Ω–∏—è:
- ‚úÖ –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π `node-cron` —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ—Å—Ç–æ—è–Ω–Ω–æ
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Ä–∞–∑ –≤ —Å—É—Ç–∫–∏ –≤ 00:00 UTC
- ‚úÖ –ù–∏–∫–∞–∫–∏—Ö –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è

**–°—Ç–∞—Ç—É—Å**: –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π cron **–ê–ö–¢–ò–í–ï–ù** –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.

–õ–æ–≥–∏ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ:
```
üöÄ Server running on http://localhost:3000
‚è∞ Automatic sync: Enabled (daily at 00:00 UTC)
   Next sync: 2026-01-09T00:00:00.000Z
```

---

### üìå –í–∞—Ä–∏–∞–Ω—Ç 2: –í–Ω–µ—à–Ω–∏–π Cron —Å–µ—Ä–≤–∏—Å (–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π Render –ø–ª–∞–Ω)

–ù–∞ **–±–µ—Å–ø–ª–∞—Ç–Ω–æ–º —Ç–∞—Ä–∏—Ñ–µ Render** –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ "–∑–∞—Å—ã–ø–∞–µ—Ç" –ø–æ—Å–ª–µ 15 –º–∏–Ω—É—Ç –±–µ–∑–¥–µ–π—Å—Ç–≤–∏—è. –ö–æ–≥–¥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–ø–∏—Ç:
- ‚ùå `node-cron` –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚ùå –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞—á–∏ –Ω–µ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è
- ‚ùå –ù—É–∂–Ω–æ "—Ä–∞–∑–±—É–¥–∏—Ç—å" –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤–Ω–µ—à–Ω–∏–º –∑–∞–ø—Ä–æ—Å–æ–º

## –†–µ—à–µ–Ω–∏–µ: –í–Ω–µ—à–Ω–∏–π Cron —Å–µ—Ä–≤–∏—Å

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤–Ω–µ—à–Ω–∏–π —Å–µ—Ä–≤–∏—Å –¥–ª—è –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–æ–≥–æ –≤—ã–∑–æ–≤–∞ endpoint —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏.

---

## –í–∞—Ä–∏–∞–Ω—Ç 1: cron-job.org (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è - –±–µ—Å–ø–ª–∞—Ç–Ω–æ)

### –®–∞–≥ 1: –ü–æ–ª—É—á–∏—Ç–µ —Å–µ–∫—Ä–µ—Ç–Ω—ã–π —Ç–æ–∫–µ–Ω

1. –î–æ–±–∞–≤—å—Ç–µ –≤ `.env` –Ω–∞ Render:
```env
CRON_SECRET=your_very_strong_random_secret_here
```

2. –°–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ —Å–µ–∫—Ä–µ—Ç:
```bash
# –í —Ç–µ—Ä–º–∏–Ω–∞–ª–µ
openssl rand -hex 32
```

### –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π—Ç–µ cron-job.org

1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ [cron-job.org](https://cron-job.org) (–±–µ—Å–ø–ª–∞—Ç–Ω–æ)
2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—É—é –∑–∞–¥–∞—á—É:
   - **Title**: `YNAB Sync Daily`
   - **Address (URL)**: `https://your-app.onrender.com/api/cron/sync?secret=YOUR_SECRET`
   - **Schedule**: 
     - **Every day at**: `00:00` (–∏–ª–∏ –¥—Ä—É–≥–æ–µ –≤—Ä–µ–º—è)
     - **Timezone**: `UTC`
   - **Request Method**: `POST`
   - **Request Headers**: (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
     ```
     X-Cron-Secret: YOUR_SECRET
     ```
   - **Request Body**: (–æ—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º)

3. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∑–∞–¥–∞—á—É

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É

1. –ù–∞–∂–º–∏—Ç–µ "Run now" –≤ cron-job.org
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ Render Dashboard
3. –î–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è: `‚è∞ Cron-triggered sync started`

---

## –í–∞—Ä–∏–∞–Ω—Ç 2: EasyCron (–ë–µ—Å–ø–ª–∞—Ç–Ω–æ, –¥–æ 2 –∑–∞–¥–∞—á)

1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ [EasyCron](https://www.easycron.com)
2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—É—é –∑–∞–¥–∞—á—É:
   - **Cron Job Name**: `YNAB Sync`
   - **URL**: `https://your-app.onrender.com/api/cron/sync?secret=YOUR_SECRET`
   - **HTTP Method**: `POST`
   - **Cron Expression**: `0 0 * * *` (–∫–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 00:00 UTC)
   - **HTTP Headers**: (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
     ```
     X-Cron-Secret: YOUR_SECRET
     ```

---

## –í–∞—Ä–∏–∞–Ω—Ç 3: GitHub Actions (–ë–µ—Å–ø–ª–∞—Ç–Ω–æ, –µ—Å–ª–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –ø—É–±–ª–∏—á–Ω—ã–π)

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.github/workflows/sync.yml`:

```yaml
name: Daily YNAB Sync

on:
  schedule:
    # –ó–∞–ø—É—Å–∫ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 00:00 UTC
    - cron: '0 0 * * *'
  workflow_dispatch: # –ü–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å –≤—Ä—É—á–Ω—É—é

jobs:
  sync:
    runs-on: ubuntu-latest
    steps:
      - name: Trigger Sync
        run: |
          curl -X POST \
            -H "X-Cron-Secret: ${{ secrets.CRON_SECRET }}" \
            https://your-app.onrender.com/api/cron/sync?secret=${{ secrets.CRON_SECRET }}
```

–î–æ–±–∞–≤—å—Ç–µ `CRON_SECRET` –≤ Secrets —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è (Settings ‚Üí Secrets ‚Üí Actions).

---

## –í–∞—Ä–∏–∞–Ω—Ç 4: UptimeRobot (–ë–µ—Å–ø–ª–∞—Ç–Ω–æ, –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ + –ø—Ä–æ–±—É–∂–¥–µ–Ω–∏–µ)

1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ [UptimeRobot](https://uptimerobot.com)
2. –°–æ–∑–¥–∞–π—Ç–µ HTTP Monitor:
   - **Monitor Type**: `HTTP(s)`
   - **Friendly Name**: `YNAB Sync App`
   - **URL**: `https://your-app.onrender.com/api/health`
   - **Monitoring Interval**: `5 minutes` (–±—É–¥–µ—Ç "–±—É–¥–∏—Ç—å" –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç)

3. –°–æ–∑–¥–∞–π—Ç–µ –æ—Ç–¥–µ–ª—å–Ω—ã–π Alert Contact –¥–ª—è cron:
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Webhook –∏–ª–∏ HTTP Post
   - URL: `https://your-app.onrender.com/api/cron/sync?secret=YOUR_SECRET`
   - –ú–µ—Ç–æ–¥: `POST`

---

## –í–∞—Ä–∏–∞–Ω—Ç 5: Render Cron Jobs (–ü–ª–∞—Ç–Ω–æ, –æ—Ç $7/–º–µ—Å)

–ï—Å–ª–∏ –ø–µ—Ä–µ–π–¥–µ—Ç–µ –Ω–∞ –ø–ª–∞—Ç–Ω—ã–π —Ç–∞—Ä–∏—Ñ Render:
1. –í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤–∫–ª—é—á–∏—Ç–µ "Cron Jobs"
2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∑–∞–¥–∞—á—É:
   - **Schedule**: `0 0 * * *` (–∫–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 00:00 UTC)
   - **Command**: `curl -X POST https://your-app.onrender.com/api/cron/sync?secret=YOUR_SECRET`

---

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

‚ö†Ô∏è **–í–ê–ñ–ù–û**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∏–ª—å–Ω—ã–π —Å–µ–∫—Ä–µ—Ç–Ω—ã–π —Ç–æ–∫–µ–Ω!

```bash
# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–µ–∫—Ä–µ—Ç–∞
openssl rand -hex 32
```

–ù–∏–∫–æ–≥–¥–∞ –Ω–µ –∫–æ–º–º–∏—Ç—å—Ç–µ `CRON_SECRET` –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π!

---

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ü—Ä–æ–≤–µ—Ä–∫–∞ endpoint –≤—Ä—É—á–Ω—É—é:

```bash
# –° —Å–µ–∫—Ä–µ—Ç–æ–º –≤ query –ø–∞—Ä–∞–º–µ—Ç—Ä–µ
curl -X POST "https://your-app.onrender.com/api/cron/sync?secret=YOUR_SECRET"

# –° —Å–µ–∫—Ä–µ—Ç–æ–º –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ
curl -X POST "https://your-app.onrender.com/api/cron/sync" \
  -H "X-Cron-Secret: YOUR_SECRET"
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ health endpoint:

```bash
curl https://your-app.onrender.com/api/health
```

---

## Troubleshooting

### "Cron endpoint not configured"
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `CRON_SECRET` –¥–æ–±–∞–≤–ª–µ–Ω –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –Ω–∞ Render

### "Unauthorized: Invalid secret"
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Å–µ–∫—Ä–µ—Ç –≤ cron-—Å–µ—Ä–≤–∏—Å–µ —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å `CRON_SECRET` –Ω–∞ Render
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –Ω–µ—Ç –ª–∏—à–Ω–∏—Ö –ø—Ä–æ–±–µ–ª–æ–≤ –∏–ª–∏ —Å–∏–º–≤–æ–ª–æ–≤

### "Sync already running"
- –≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ - –ø—Ä–µ–¥—ã–¥—É—â–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –µ—â–µ –Ω–µ –∑–∞–≤–µ—Ä—à–∏–ª–∞—Å—å
- Cron-—Å–µ—Ä–≤–∏—Å –ø—Ä–æ–ø—É—Å—Ç–∏—Ç —ç—Ç–æ—Ç –∑–∞–ø—É—Å–∫

### –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –ø—Ä–æ—Å—ã–ø–∞–µ—Ç—Å—è
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ cron-—Å–µ—Ä–≤–∏—Å –¥–µ–ª–∞–µ—Ç –∑–∞–ø—Ä–æ—Å—ã —Ä–µ–≥—É–ª—è—Ä–Ω–æ
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ UptimeRobot –¥–ª—è –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ "–ø—Ä–æ–±—É–∂–¥–µ–Ω–∏—è" –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

---

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. **–î–ª—è –±–µ—Å–ø–ª–∞—Ç–Ω–æ–≥–æ Render**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ **cron-job.org** + **UptimeRobot**
   - UptimeRobot –±—É–¥–µ—Ç "–±—É–¥–∏—Ç—å" –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç
   - cron-job.org –±—É–¥–µ—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é —Ä–∞–∑ –≤ –¥–µ–Ω—å

2. **–î–ª—è –ø–ª–∞—Ç–Ω–æ–≥–æ Render**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ Cron Jobs Render

3. **–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞**: –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ **Railway** –∏–ª–∏ **Fly.io** - —Ç–∞–º –Ω–µ—Ç –ø—Ä–æ–±–ª–µ–º —Å "–∑–∞—Å—ã–ø–∞–Ω–∏–µ–º" –Ω–∞ –±–µ—Å–ø–ª–∞—Ç–Ω–æ–º —Ç–∞—Ä–∏—Ñ–µ

---

## –ü—Ä–∏–º–µ—Ä—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

### cron-job.org
```
URL: https://ynab-sync-app.onrender.com/api/cron/sync?secret=abc123...
Method: POST
Schedule: Daily at 00:00 UTC
```

### UptimeRobot
```
Monitor URL: https://ynab-sync-app.onrender.com/api/health
Interval: 5 minutes
```

---

**–ù—É–∂–Ω–∞ –ø–æ–º–æ—â—å?** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ Render Dashboard –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –ø—Ä–æ–±–ª–µ–º.



