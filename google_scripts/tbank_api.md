Получить выписку по счету

Production

Sandbox
GET
https://business.tbank.ru/openapi/api/v1/statement



Описание
Метод для получения списка операций по счету за определенный период по указанным критериям поиска. Данные доступны с июня 2023 года.

Чтобы оперативно отслеживать статус оплаты, вы также можете воспользоваться вебхуком Операция по счету.

Поля с датой и временем в запросе и ответе передаются в формате ISO 8601 по UTC.

Операции получаются порциями. Максимальный размер порции регулируется параметром limit. Если в текущем запросе не удается вернуть все операции, в ответе будет заполнено поле nextCursor с указателем на последнюю операцию в ответе. Чтобы получить очередную порцию операций, повторите запрос — в поле cursor укажите значение, полученное из nextCursor.

Чтобы в ответе вернулись балансы, передайте параметр withBalances со значением true. Они вернутся только для первого запроса — для следующих запросов очередной порции операций при заполнении поля cursor балансы не возвращаются.

Авторизация
Security

Bearer API Token
RPS

Ограничение — 20 запросов в секунду

Scopes


H2H

Partner
Счета и выписки → Информация об операциях компании с ИНН {inn} и КПП {kpp}


Header parameters

X-Request-Id

String<uuid>

Уникальный идентификатор для трассировки запроса. Не влияет на логику исполнения запроса.

Query parameters

Required

accountNumber

String

Requirements: Value must match regular expression ^(\d{20})$

Номер счета.

categories

Array

Requirements: <= 50 items

Категории операций. Подробнее о категориях.

cursor

String

Requirements: <= 100 characters

Указатель на последнюю операцию, полученную в предыдущем запросе. Максимальное количество операций в запросе — 5000, значение по умолчанию — 1000.

Если количество операций больше лимита, этот параметр вернется в последней строке ответа — его нужно передать в следующем запросе.

Required

from

String<date-time>

Дата начала периода, включительно.

inns

Array

Requirements: <= 50 items

ИНН контрагентов.

limit

Integer<int32>

Requirements: >= 1 and <= 5000

Default: 1000

Максимальное количество операций, которое нужно получить за один вызов метода.

operationStatus

String

Requirements: [All, Authorization, Transaction]

Статус операции для фильтрации: все операции, только авторизации или только подтвержденные транзакции.

to

String<date-time>

Дата окончания периода, не включительно.

ucid

Integer<int64>

UCID карты — ее уникальный идентификатор. Его можно получить через метод Получить список карт компании.

withBalances

Boolean

Если передан true, возвращаются балансы.

Ответ
200

Список операций

400

Некорректный запрос

401

Ошибка аутентификации

403

Ошибка авторизации

422

Ошибка при обработке данных

429

Слишком много запросов

500

Ошибка сервера

Это полезный материал?





Получить счета v4

Production

Sandbox
GET
https://business.tbank.ru/openapi/api/v4/bank-accounts



Описание
Метод для получения информации по расчетным и инвестиционным счетам организаций.

Чтобы использовать метод, нужен доступ: opensme/inn/[{inn}]/kpp/[{kpp}]/bank-accounts/get — Информация о счетах компании с ИНН {inn} и КПП {kpp}.

Ограничение на использование метода — 6 запросов в секунду.

Авторизация
Security

Bearer API Token
Query parameters

withInvest

Boolean

Флаг получения инвестиционных счетов.

Ответ
200

Расчетные счета

400

Некорректный запрос

401

Ошибка аутентификации

403

Ошибка авторизации

422

Ошибка при обработке данных

429

Слишком много запросов

500

Ошибка сервера

Это полезный материал?